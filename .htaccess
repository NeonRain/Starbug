RewriteEngine On
RewriteCond %{REQUEST_URI} !public/(.*)$
RewriteRule (.*) index.php
RewriteCond %{HTTP_REFERER} !^http://(www\.)?localhost [NC]
RewriteCond %{HTTP_REFERER} !^$
RewriteCond %{HTTP_REFERER} ^http://.*$
RewriteRule \.(jpe?g|gif|bmp|png)$ public/images/nohotlinks.png [L]